<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.unilumin.fc.iot.mapper.cluster.DisplayGroupDao">
    <resultMap id="BaseResultMap" type="com.unilumin.fc.iot.model.DisplayGroup">
        <result column="id" property="id" />
        <result column="group_name" property="groupName" />
        <result column="group_content" property="groupContent" />
        <result column="create_time" property="creatTime" />
    </resultMap>

    <sql id="Base_Column_List">
		id, group_name, group_content, create_time
	</sql>

    <insert id="insert" keyColumn="id" keyProperty="id" useGeneratedKeys="true" >
		insert into display_group (
		group_name,
		group_content
		)
 	   values (
		 #{groupName,jdbcType=VARCHAR},
		 #{groupContent,jdbcType=LONGVARCHAR}
		)


	</insert>

    <delete id="deleteByPrimaryKey" >
		delete from  display_group

		where id = #{id}


	</delete>

    <update id="update" >
        update display_group
        <set>
            <if test="groupName!=null and groupName!=''">group_name = #{groupName,jdbcType=VARCHAR}, </if>
            <if test="groupContent!=null and groupContent!=''">group_content = #{groupContent,jdbcType=LONGVARCHAR}, </if>
            <if test="createTime!=null">create_time = #{createTime,jdbcType=TIMESTAMP}, </if>
        </set>
        where id=#{id}

    </update>

    <select id="selectByPrimaryKey" resultMap="BaseResultMap" >
		select
		id,
		group_name,
		group_content,
		create_time
		from display_group
		where id = #{id,jdbcType=INTEGER}

	</select>

    <select id="selectAll" resultMap="BaseResultMap" >
        select
        id,
        group_name,
        group_content,
        create_time
        from display_group
        <where>
            <if test="id!=null "> and display_group.id = #{id,jdbcType=INTEGER}</if>
            <if test="groupName!=null and groupName!=''"> and display_group.group_name = #{groupName,jdbcType=VARCHAR}</if>
            <if test="groupContent!=null and groupContent!=''"> and display_group.group_content = #{groupContent,jdbcType=LONGVARCHAR}</if>
            <if test="createTime!=null "> and display_group.create_time = #{createTime,jdbcType=TIMESTAMP}</if>
            <if test=" startDate!=null and startDate!='' and endDate!=null and endDate!='' "> and display_group.create_time BETWEEN #{startDate} and #{endDate}</if>
        </where>
        <choose>
            <when test="orderByString!=null and orderByString!=''">
                ${orderByString}
            </when>
            <otherwise>
                order by id desc
            </otherwise>
        </choose>

    </select>

    <select id="selectByCondition" resultMap="BaseResultMap" >
        select
        id,
        group_name,
        group_content,
        create_time
        from display_group
        <where>
            <if test="id!=null "> and display_group.id = #{id,jdbcType=INTEGER}</if>
            <if test="groupName!=null and groupName!=''"> and display_group.group_name = #{groupName,jdbcType=VARCHAR}</if>
            <if test="groupContent!=null and groupContent!=''"> and display_group.group_content = #{groupContent,jdbcType=LONGVARCHAR}</if>
            <if test="createTime!=null "> and display_group.create_time = #{createTime,jdbcType=TIMESTAMP}</if>
            <if test=" startDate!=null and startDate!='' and endDate!=null and endDate!='' "> and display_group.create_time BETWEEN #{startDate} and #{endDate}</if>
        </where>
        <choose>
            <when test="orderByString!=null and orderByString!=''">
                ${orderByString}
            </when>
            <otherwise>
                order by id desc
            </otherwise>
        </choose>

    </select>

</mapper>
